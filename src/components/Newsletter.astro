---
export interface Props {
  title?: string;
  subtitle?: string;
  showSocial?: boolean;
}

const { 
  title = "Stay Updated with AI Insights",
  subtitle = "Get the latest AI tool reviews, industry updates, and expert insights delivered to your inbox.",
  showSocial = true 
} = Astro.props;
---

<section class="bg-blue-50 py-16">
  <div class="container mx-auto px-4">
    <div class="max-w-2xl mx-auto text-center">
      <h2 class="text-3xl font-bold text-gray-900 mb-4">
        Stay Updated with AI Tool Reviews
      </h2>
      <p class="text-lg text-gray-600 mb-8">
        Get the latest AI tool reviews, comparisons, and expert insights delivered to your inbox.
      </p>
      
      <form data-newsletter="true" class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto">
        <input 
          type="email" 
          placeholder="Enter your email address" 
          required
          class="flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
        />
        <button 
          type="submit" 
          class="bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors"
        >
          Subscribe
        </button>
      </form>
      
      <p class="text-sm text-gray-500 mt-4">
        No spam, unsubscribe at any time. We respect your privacy.
      </p>
    </div>
  </div>
</section>

<script>
  // Newsletter subscription functionality
  const newsletterForm = document.querySelector('button');
  const emailInput = document.querySelector('input[type="email"]');

  if (newsletterForm && emailInput) {
    newsletterForm.addEventListener('click', (e) => {
      e.preventDefault();
      const email = emailInput.value;
      
      if (email && email.includes('@')) {
        // Show success message
        newsletterForm.textContent = 'Subscribed!';
        newsletterForm.classList.add('bg-green-600');
        newsletterForm.classList.remove('bg-gradient-to-r', 'from-blue-600', 'to-purple-600');
        emailInput.value = '';
        
        // Reset after 3 seconds
        setTimeout(() => {
          newsletterForm.textContent = 'Subscribe';
          newsletterForm.classList.remove('bg-green-600');
          newsletterForm.classList.add('bg-gradient-to-r', 'from-blue-600', 'to-purple-600');
        }, 3000);
      } else {
        // Show error
        emailInput.classList.add('border-red-500');
        setTimeout(() => {
          emailInput.classList.remove('border-red-500');
        }, 2000);
      }
    });
  }
</script>
